\documentclass[12pt,a4paper]{article}
\usepackage[latin1]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{uarial}
\usepackage{amssymb}
\usepackage{graphicx}
\author{Miguel Hernández Boza}
\title{GRecommender}
\begin{document}
	
		\maketitle
		\begin{abstract}
			
			En la siguiente memoria voy a explicar como he desarrollado mi sistema de recomendaciones de películas, que datos he utilizado y como he ido eligiendo todas las partes de mi solución.\\
			
			El nombre que le he dado a mi solución es GRecommender. Éste se basa en un sistema de recomendaciones con una base de datos orientada a grafos que da soporte a todo el sistema. El frontal interactúa con la base de datos modificando ésta creando nuevos vértices al insertar un nuevo usuario y aristas en el caso de las recomendaciones. \\
			
			En las siguientes paginas se describirá todo el proceso que se ha seguido hasta lograr la solución.\\
			
		\end{abstract}
		\clearpage
		\tableofcontents
		\clearpage
		\listoffigures
		\clearpage
		\section{Metodología de trabajo}
		
			La metodología usada para esta solución es la CRISPDM.
			\begin{itemize}
			\item \textit{Comprensión del negocio}: 			
			Esta fase inicial se centra en la comprensión de los objetivos y requisitos del proyecto, en este caso el de una solución que de recomendaciones de películas. Para lograr esto recibiremos como fuente de información a Filmaffinity a través de un scraper hecho en java. El valor que puede tener esta solución sería la de ganar más relevancia con nuestras recomendaciones, ya que podemos ser una página de referencia a la hora de hablar sobre cine a través de unas recomendaciones dinámicas y teniendo en cuenta las acciones de los usuarios.
			\item \textit{Comprensión de Datos}: 
			Esta fase comienza con una colección inicial de datos y procesos con actividades con el objetivo de familiarizarse con los datos. Dentro de esta información tendremos la simbiosis de la película, actores que aparecen, director de la película o simbiosis y nota que se le da a la película. Por otro lado nos aparecerán también comentarios positivo o negativos que nos harán ver una sensación global sobre cada película. Además de esto tendremos diferentes etiquetas sobre cada película que nos pueden servir para buscar películas similares.
			\item \textit{Preparación de datos}: 
			La preparación de los datos a sido a partir de un scrapper en Java. El funcionamiento es el siguiente: Busque información sobre filmaffinity y encontré un articulo donde realizaron un análisis sobre las notas recibidas, en este articulo aparecía un código en perl done descargaba las paginas de la susodicha web, yo he cogido los id de las películas para realizar de nuevo las peticiones pero esta vez he descargado toda la siguiente información por película de filmaffinity
			
			\subitem Título original
			\subitem Año
			\subitem Duración
			\subitem País
			\subitem Guión
			\subitem Música
			\subitem Fotografía
			\subitem Genero
			\subitem Productora
			\subitem Reparto
			\subitem Director
			\subitem Simbiosis
			\subitem Calificación
			\subitem Comentarios
			
			También me he descargado una base de datos de comentarios para ver si algunas de ellas coincidían con las películas que ya tenía para tener mayor cantidad de datos posibles.
			Además, con estos comentarios,podría conseguir calificaciones positivas o negativas, extrayendo esta información de los textos a través de NLP (Natural Language Processing) y la rama del análisis del sentimiento.
			\item \textit{Modelado}: 
			Para modelar los datos, al ir a utilizar como base de datos una no relacional, del tipo grafo, me he preparado distintos CSV desde los cuales importare toda la información estática. Tendré un esquema desde el que comenzaré a insertar los usuarios que recibirán las primeras recomendaciones basadas en los mayores calificaciones.
			
			Este modelo vendrá descrito en el diseño de la base de datos.
			\item \textit{Evaluación}: 
			El modelo seguido para la solución es la siguiente. Inicialmente tenemos toda la información de películas insertada en la base de datos, esta tendrá el siguiente esquema.
			
			Una vez queramos registrarnos en la aplicación, ésta creara una entidad o nodo con los datos del usuario y basará las primeras recomendaciones en los valores más altos de evaluación de cada genero de película. Esto lo lograremos creando relaciones de esta entidad con los nodos de esas películas. 
			
			Una vez el usuario entre, vera esas recomendaciones y podrá decidir cuales le interesa, con ello editaremos esas relaciones borrando las que no le interesen y enseñándole otras con similitudes en diferentes parámetros como los que hemos visto anteriormente, por ejemplo:

			\subitem Año
			\subitem Genero
			\subitem Actores que aparecen
			\subitem Director
			
			Si elige nuevas películas en las que esta interesado se crearán estas nuevas relaciones y se le podrán mostrar más. Siempre se podrá volver a empezar o buscar libremente las películas para después comenzar el método de recomendación.
			\item \textit{Despliegue}: 
			Para el despliegue será necesario un Tomcat para la parte del frontend con una base de datos neo4j como backend junto con una API que conecte el frontend con el backend. 
			Para mandar las ordenes desde el backend utilizaremos curl para generar la petición POST que es necesaria para crear/editar/borrar partes de la base de datos.
			
			La siguiente figura explica como seria toda la arquitectura de GRecommender.
			\begin{figure}[tbph!]
				\centering
				\includegraphics[width=0.7\linewidth]{images/CRISP-DM_Process_Diagram.png}
				\caption{Esquema CRISP-DM.}
				\label{fig:EsquemaCRISPDM}
			\end{figure}
			
		\end{itemize}
		\clearpage
		\section{Fuentes de datos}
		
		La fuente de datos viene a partir de dos lugares, hemos utilizado un scraper en Java para descargar toda la información de cada película de Filmaffinity y por otro lado hemos utilizado los datos de un proyecto open-source donde se realizaban diferentes opiniones para ver si podíamos añadir más información a las películas.
		
		El scraper realiza lo siguiente:
		
		- Imagen
		
		- Tenemos un primer fichero con id's validos de películas de filmaffinity, como se ha comentado anteriormente.
		- Estos id's se concatenan con la url a la que vamos a realizar la petición y lo parseamos con la librería jsoup
		- Tratamos lo que nos devuelve extrayendo los parámetros que nos interesan y generando el csv.		
		- Ejemplo de cada película
		
	
		Una vez tenemos este CSV, para neo4j preparamos un fichero de carga que lo vaya leyendo y realizado las peticiones curl necesarias para importar cada entidad en forma de nodo, y las relaciones que existen.
		
		- Ejemplo código.
		
		Una vez realizado esto, tenemos el siguiente grafo sobre el que trabajar. Todo esta última parte viene explicado en detalle en el diseño de la base de datos.
		
		- Imagen grafo
		
		A este será al que le añadamos los usuarios y crearemos sus relaciones como forma de crear estas recomendaciones.
		\clearpage
		\section{Diseño de arquitectura SW}
		
		- Requerimientos
		- Instalar tomcat, neo4j, jsoup, curl.
		- Componentes, Nuestro frontal en el tomcat y nuestra base de datos en neo4j.
		- Modelo y evolución
		
		\clearpage
		\section{Diseño de la base datos}
		Neo4j
		Modelo
		Importación de datos
		Modelo Usuario
		Modelo Película
		\clearpage
		\section{Explicación del Frontend implementado}
		Paginas que aparecerían
		Conexión con la database
		\clearpage
		\section{Explicación del Backend implementado}
		Interacción con el frontal para actualizar la base de datos
		\clearpage
		\section{Demostración mediante ejemplos}
		Ejemplo tonto de demo
		Base de datos neo4j con varios usuarios.
	
\end{document}